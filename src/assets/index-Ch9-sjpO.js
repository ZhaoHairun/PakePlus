import{_ as z}from"./arco-table-D7Ntzbsx.js";import{_ as I}from"./arco-icon-CunFPY5n.js";import{i as A,l as W}from"./index-DP0JwgWw.js";import{R as $,H as K}from"./api-CmsgK-9p.js";import{d as T,r as d,y as B,z as D,q as _,s as E,c as u,b as n,F as h,m as H,u as o,e as i,w as y,f as p,A as w,t as v,j as L,o as m,_ as V}from"./index-B3mkc1PU.js";const j={class:"home-nav-container"},q=["onClick"],M={class:"home-nav-content"},O={class:"home-nav-title"},P={class:"home-nav-value"},U={class:"home-content"},G={class:"filter-content"},J={class:"search-content"},Q={class:"search"},X={class:"refresh"},Y=T({__name:"index",setup(Z){const f=L(),l=d({data:{keyword:""}}),k=B("table"),e=d({data:{columns:[{title:"案卷名称",dataIndex:"name",align:"center",fixed:"left",width:300,minWidth:200},{title:"编号",dataIndex:"code",align:"center",width:200,minWidth:100},{title:"所属区域",dataIndex:"areaName",align:"center",width:200,minWidth:100},{title:"所属部门",dataIndex:"deptName",align:"center",width:200,minWidth:100},{title:"上传时间",dataIndex:"createTime",align:"center",width:200,minWidth:100},{title:"状态",align:"center",render({record:s}){const t=[{text:"未评查",color:"#FF0000"},{text:"评查中",color:"#206FFC"},{text:"已评查",color:"#39CA3A"}];return D("span",{style:`color: ${t[s.status].color}`},t[s.status].text)},fixed:"right",width:100,minWidth:100}],list:[],pagination:{show:!0,total:0,pageNum:1,pageSize:10},tableRowSelection:{width:40,type:"checkbox",selectedRowKeys:[],showCheckedAll:!0}}}),c=async()=>{const{data:s}=await $.getRecordsListApi({status:"",keyword:l.data.keyword,pageNum:e.data.pagination.pageNum,pageSize:e.data.pagination.pageSize}),{currentList:t,totalRecords:r}=s;e.data.list=t,e.data.pagination.total=r};_(()=>[l.data.keyword,e.data.pagination.pageSize],()=>{e.data.pagination.pageNum>1?e.data.pagination.pageNum=1:c()}),_(()=>e.data.pagination.pageNum,c);const g=d({data:{list:[{key:"dossierAllCount",title:"全部案卷",value:0,color:"#FFF4F4",routerName:"records"},{key:"dossierCheckCount",title:"评查案卷",value:0,color:"#F0FFF2",routerName:"evaluation"},{key:"deptCount",title:"执法部门",value:0,color:"#FFF9F2",routerName:"dept"},{key:"personCount",title:"执法人员库",value:0,color:"#F0F9FF",routerName:"lawEnforcementOfficer"}]}}),F=async()=>{const{data:s}=await K.getHomeCountApi();g.data.list.forEach(t=>{t.key in s&&(t.value=s[t.key])})},C=s=>{f.replace({name:s})};return E(()=>{c(),F()}),(s,t)=>{const r=I,x=p("a-input-search"),b=p("icon-sync"),N=p("a-space"),S=z;return m(),u(h,null,[n("div",j,[(m(!0),u(h,null,H(o(g).data.list,(a,R)=>(m(),u("div",{key:R,style:w({backgroundColor:a.color}),class:"home-nav-item",onClick:tt=>C(a.routerName)},[n("i",{style:w({backgroundImage:`url(${o(A)(`images/png/${a.key}.png`)})`}),class:"home-nav-icon"},null,4),n("div",M,[n("p",O,v(a.title),1),n("p",P,"总数据("+v(a.value)+")",1)])],12,q))),128))]),n("div",U,[t[4]||(t[4]=n("p",{class:"home-title"},"执法案卷",-1)),n("div",G,[n("div",J,[i(N,null,{default:y(()=>[n("div",Q,[i(x,{"default-value":o(l).data.keyword,"allow-clear":"","search-button":"","button-text":"查询",placeholder:"输入关键字搜索",onChange:t[0]||(t[0]=a=>o(l).data.keyword=a)},{"button-icon":y(()=>[i(r,{icon:"icon-search"})]),_:1},8,["default-value"])]),n("div",X,[i(b,{spin:o(W),onClick:c},null,8,["spin"])])]),_:1})])]),i(S,{ref_key:"table",ref:k,"row-key":"id","selected-keys":o(e).data.tableRowSelection.selectedRowKeys,"onUpdate:selectedKeys":t[1]||(t[1]=a=>o(e).data.tableRowSelection.selectedRowKeys=a),"row-selection":o(e).data.tableRowSelection,columns:o(e).data.columns,data:o(e).data.list,pagination:o(e).data.pagination,"column-resizable":!0,onCurrentChange:t[2]||(t[2]=a=>o(e).data.pagination.pageNum=a),onPageSizeChange:t[3]||(t[3]=a=>o(e).data.pagination.pageSize=a)},null,8,["selected-keys","row-selection","columns","data","pagination"])])],64)}}}),it=V(Y,[["__scopeId","data-v-882fc44a"]]);export{it as default};
