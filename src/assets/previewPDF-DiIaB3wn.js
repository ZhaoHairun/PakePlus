import{_ as G}from"./useRenderModal-BiI04mzw.js";import{D as P,E as X,d as z,a as V,s as Q,c as B,o as I,u as K,A as W,b as Y,e as Z,w as ee,i as te,_ as ne}from"./index-B3mkc1PU.js";var q={exports:{}};/**
 *  PDFObject v2.3.1
 *  https://github.com/pipwerks/PDFObject
 *  @license
 *  Copyright (c) 2008-2025 Philip Hutchison
 *  MIT-style license: http://pipwerks.mit-license.org/
 *  UMD module pattern from https://github.com/umdjs/umd/blob/master/templates/returnExports.js
 */(function(E){(function(y,s){E.exports?E.exports=s():y.PDFObject=s()})(P,function(){if(typeof window>"u"||window.navigator===void 0||window.navigator.userAgent===void 0)return!1;let y="2.3.1",s=window,r=s.navigator,g=r.userAgent,h=!1,c=function(){let e=s.chrome!==void 0,t=s.safari!==void 0||r.vendor!==void 0&&/Apple/.test(r.vendor)&&/Safari/.test(g),l=s.Mozilla!==void 0||/irefox/.test(g);return e||t||l},m=function(e){var t=null;try{t=new ActiveXObject(e)}catch{t=null}return!!t},F=function(){return"ActiveXObject"in s&&(m("AcroPDF.PDF")||m("PDF.PdfCtrl"))},i=function(){if(r.platform!==void 0&&r.platform==="MacIntel"&&r.maxTouchPoints!==void 0&&r.maxTouchPoints>1||/Mobi|Tablet|Android|iPad|iPhone/.test(g))return!1;let l=typeof r.pdfViewerEnabled=="boolean";return l&&!r.pdfViewerEnabled?!1:l&&r.pdfViewerEnabled||c()||F()}(),d=function(e){let t="",l,u=[],n="";if((e.comment||e.viewrect||e.highlight)&&(e.page||(e.page=1,a("The comment, viewrect, and highlight parameters require a page parameter, but none was specified. Defaulting to page 1."))),e.page&&(u.push("page="+encodeURIComponent(e.page)),delete e.page),e.fdf&&(n=e.fdf,delete e.fdf),e){for(l in e)e.hasOwnProperty(l)&&u.push(encodeURIComponent(l)+"="+encodeURIComponent(e[l]));n&&u.push("fdf="+encodeURIComponent(n)),t=u.join("&"),t&&(t="#"+t)}return t},a=function(e){return h||console.log("[PDFObject]",e),!1},f=function(e){for(;e.firstChild;)e.removeChild(e.firstChild)},A=function(e){let t=document.body;return typeof e=="string"?t=document.querySelector(e):s.jQuery!==void 0&&e instanceof jQuery&&e.length?t=e.get(0):e.nodeType!==void 0&&e.nodeType===1&&(t=e),t},_=function(e,t,l,u){if(window.Blob&&window.URL&&window.URL.createObjectURL){var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="blob",n.onload=function(){if(n.status===200){var j=n.response,v=document.createElement("a");v.innerText="Download PDF",v.href=URL.createObjectURL(j),v.setAttribute("download",t),l.innerHTML=u.replace(/\[pdflink\]/g,v.outerHTML)}},n.send()}},D=function(e,t,l,u,n,j,v,O,R,w,T){f(t);let k=l;if(e==="pdfjs"){let b=T.indexOf("?")!==-1?"&":"?";k=T+b+"file="+encodeURIComponent(l)+u}else k+=u;let p=document.createElement("iframe");if(p.className="pdfobject",p.type="application/pdf",p.title=O,p.src=k,p.allow="fullscreen",p.frameborder="0",v&&(p.id=v),!R){let b="border: none;";t!==document.body?b+="width: "+n+"; height: "+j+";":b+="position: absolute; top: 0; right: 0; bottom: 0; left: 0; width: 100%; height: 100%;",p.style.cssText=b}let x=["className","type","title","src","style","id","allow","frameborder"];return w&&w.key&&x.indexOf(w.key)===-1&&p.setAttribute(w.key,typeof w.value<"u"?w.value:""),t.classList.add("pdfobject-container"),t.appendChild(p),t.getElementsByTagName("iframe")[0]},M=function(e,t,l){let u=t||!1,n=l||{};h=typeof n.suppressConsole=="boolean"?n.suppressConsole:!1;let j=typeof n.id=="string"?n.id:"",v=n.page||!1,O=n.pdfOpenParams||{},R=typeof n.fallbackLink=="string"||typeof n.fallbackLink=="boolean"?n.fallbackLink:!0,w=n.width||"100%",T=n.height||"100%",k=n.title||"Embedded PDF",p=typeof n.forcePDFJS=="boolean"?n.forcePDFJS:!1,x=typeof n.omitInlineStyles=="boolean"?n.omitInlineStyles:!1,b=n.PDFJS_URL||!1,L=A(u),U="",S=n.customAttribute||{},C=n.fallbackFileNameForBase64,H="<p>This browser does not support inline PDFs. Please download the PDF to view it: [pdflink]</p>";if(typeof e!="string")return a("URL is not valid");if(!L)return a("Target element cannot be determined");if(v&&(O.page=v),U=d(O),p&&b)return D("pdfjs",L,e,U,w,T,j,k,x,S,b);if(i)return D("iframe",L,e,U,w,T,j,k,x,S);if(b)return D("pdfjs",L,e,U,w,T,j,k,x,S,b);if(R)if(typeof R=="string")L.innerHTML=R.replace(/\[url\]/g,e);else{const N=e.match(/data:application\/pdf;(?:.*filename=([^;]+);)?.*base64,/i);if(N)C=C||N[1]||"file.pdf",_(e,C,L,H);else{let J="<a href='"+e+"'>Download PDF</a>";L.innerHTML=H.replace(/\[pdflink\]/g,J)}}return a("This browser does not support embedded PDFs")};return{embed:function(e,t,l){return M(e,t,l)},pdfobjectversion:function(){return y}(),supportsPDFs:function(){return i}()}})})(q);var oe=q.exports;const ie=X(oe);var $={exports:{}};(function(E,y){(function(s,r){r()})(P,function(){function s(o,i){return typeof i>"u"?i={autoBom:!1}:typeof i!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(o.type)?new Blob(["\uFEFF",o],{type:o.type}):o}function r(o,i,d){var a=new XMLHttpRequest;a.open("GET",o),a.responseType="blob",a.onload=function(){F(a.response,i,d)},a.onerror=function(){console.error("could not download file")},a.send()}function g(o){var i=new XMLHttpRequest;i.open("HEAD",o,!1);try{i.send()}catch{}return 200<=i.status&&299>=i.status}function h(o){try{o.dispatchEvent(new MouseEvent("click"))}catch{var i=document.createEvent("MouseEvents");i.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),o.dispatchEvent(i)}}var c=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof P=="object"&&P.global===P?P:void 0,m=c.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),F=c.saveAs||(typeof window!="object"||window!==c?function(){}:"download"in HTMLAnchorElement.prototype&&!m?function(o,i,d){var a=c.URL||c.webkitURL,f=document.createElement("a");i=i||o.name||"download",f.download=i,f.rel="noopener",typeof o=="string"?(f.href=o,f.origin===location.origin?h(f):g(f.href)?r(o,i,d):h(f,f.target="_blank")):(f.href=a.createObjectURL(o),setTimeout(function(){a.revokeObjectURL(f.href)},4e4),setTimeout(function(){h(f)},0))}:"msSaveOrOpenBlob"in navigator?function(o,i,d){if(i=i||o.name||"download",typeof o!="string")navigator.msSaveOrOpenBlob(s(o,d),i);else if(g(o))r(o,i,d);else{var a=document.createElement("a");a.href=o,a.target="_blank",setTimeout(function(){h(a)})}}:function(o,i,d,a){if(a=a||open("","_blank"),a&&(a.document.title=a.document.body.innerText="downloading..."),typeof o=="string")return r(o,i,d);var f=o.type==="application/octet-stream",A=/constructor/i.test(c.HTMLElement)||c.safari,_=/CriOS\/[\d]+/.test(navigator.userAgent);if((_||f&&A||m)&&typeof FileReader<"u"){var D=new FileReader;D.onloadend=function(){var t=D.result;t=_?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),a?a.location.href=t:location=t,a=null},D.readAsDataURL(o)}else{var M=c.URL||c.webkitURL,e=M.createObjectURL(o);a?a.location=e:location.href=e,a=null,setTimeout(function(){M.revokeObjectURL(e)},4e4)}});c.saveAs=F.saveAs=F,E.exports=F})})($);var ae=$.exports;const re=X(ae),le={key:1,class:"pdf-error"},se=z({__name:"previewPDF",props:{url:{default:""},name:{default:""},height:{default:"calc(100vh - 250px)"}},setup(E){const y=E,s=V(""),r=V(!0),g=()=>{s.value=`http://192.168.0.55:31014/ajpc/${y.url}`,ie.embed(`${s.value}#toolbar=0&navpanes=0`,"#PDF")||(r.value=!1)},h=()=>{re.saveAs(`${s.value}`,y.name)};return Q(()=>{g()}),(c,m)=>{const F=G;return I(),B("div",null,[K(r)?(I(),B("div",{key:0,id:"PDF",style:W({height:y.height})},null,4)):(I(),B("div",le,[m[1]||(m[1]=Y("p",{class:"error-text"},"您的浏览器暂不支持预览PDF，请下载后查看。",-1)),Z(F,{type:"primary",onClick:h},{default:ee(()=>m[0]||(m[0]=[te(" 下载PDF ",-1)])),_:1,__:[0]})]))])}}}),de=ne(se,[["__scopeId","data-v-bf289fc2"]]);export{de as P};
